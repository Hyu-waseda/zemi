from googletrans import Translator
from collections import Counter

# コメントデータ
comments_data = [{"threadID":25,"title":"元旦の地震","createdAt":"2024-01-03T09:39:49","updatedAt":"2024-01-07T02:32:31","userID":10,"userName":"ループ","content":"奇妙な地震だ。本震なのだろうか。","language":"ja","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":24,"title":"幽体離脱したことある人？","createdAt":"2023-12-25T15:22:21","updatedAt":"2024-01-02T11:43:09","userID":10,"userName":"オカルトてっちゃん","content":"聞いた話によると、無事に戻ってくるにはコツがあるらしい。つまり、戻れない人は。。。経験したことある人、いる？","language":"ja","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":23,"title":"發燒嘅時候應該做咩好","createdAt":"2023-12-23T19:21:40","updatedAt":"2023-12-23T19:21:40","userID":10,"userName":"6uo仔是我","content":"前幾日打完針之後開始發燒🥹\n瞓左足足一日之後 第二日開始覺得悶\n想問大家通常會做咩多\n我見audible好似幾好 可以聽住書咁休息\n利申唔係賣廣告","language":"ja","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":22,"title":"国際カップル、国際結婚についてどう思う？","createdAt":"2023-12-23T14:15:26","updatedAt":"2023-12-25T14:52:56","userID":10,"userName":"リカ","content":"国際恋愛は異文化交流が楽しめる一方、苦労も多いですよね。いろんな国の方から、国際カップルの良い点、大変な点が聞けたら面白いと思い、このスレッドを立ち上げました！\nあなたは国際恋愛について、どう思いますか？","language":"ja","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":21,"title":"好きなアニメ何？？","createdAt":"2023-12-17T14:40:36","updatedAt":"2023-12-23T19:31:17","userID":10,"userName":"Hyu","content":"みんなの好きなアニメを教えて","language":"ja","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":20,"title":"日本で一番美味しかったもの","createdAt":"2023-12-17T07:16:51","updatedAt":"2023-12-25T15:15:28","userID":10,"userName":"日本留学","content":"日本に住んでいて、または滞在中、一番美味しかったもの教えて。","language":"ja","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":19,"title":"日本に留学したい人集まれ","createdAt":"2023-12-17T07:15:24","updatedAt":"2023-12-17T07:15:24","userID":10,"userName":"日本留学","content":"日本に留学したい人、日本に留学している人、情報交換しませんか。","language":"ja","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":18,"title":"『頑張る彼女を応援してもらえないか』\n\n PRODUCE 101 JAPAN( https://produce101.jp)というオーディションに参加されているそう。\n日プというらしい。初めて聞いた。\n\n 101名の中の唯一の早大生。ま、応援するよね(笑) \n\n【田中優希】さん","createdAt":"2023-12-17T05:29:58","updatedAt":"2023-12-17T05:31:21","userID":10,"userName":"応援中","content":"以下、高田馬場『麺爺』のLINEより。↓　　　　　　　　　　　　　　　　　　『頑張る彼女を応援してもらえないか』\n\n PRODUCE 101 JAPAN( https://produce101.jp)というオーディションに参加されているそう。\n日プというらしい。初めて聞いた。\n\n 101名の中の唯一の早大生。ま、応援するよね(笑) \n\n【田中優希】さん。","language":"ja","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":17,"title":"ドリンクバー","createdAt":"2023-12-16T12:13:22","updatedAt":"2023-12-16T12:13:22","userID":10,"userName":"ココア","content":"ドリンクバー大好き。ガストやジョナサンは電源もネットも使えて便利。長居できてドリンクバーあるって最高。ココア美味しい。","language":"ja","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":16,"title":"東京都知事選に神谷さんを担ごうよ❕","createdAt":"2023-12-16T11:26:52","updatedAt":"2023-12-17T05:23:47","userID":10,"userName":"神谷さん好き","content":"ここで政治の話をしてもOKでしょうか。神谷宗幣さんという男をぜひ知ってほしいのです。","language":"ja","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":15,"title":"コロナって","createdAt":"2023-12-16T11:21:38","updatedAt":"2023-12-16T11:23:44","userID":10,"userName":"真面目","content":"コロナって本当にあったのかな？あんなにこわがる必要あったのかな？皆さんはどう思いますか。","language":"ja","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":14,"title":"合コン行ったことある？","createdAt":"2023-12-16T11:10:24","updatedAt":"2023-12-16T11:10:24","userID":10,"userName":"むー","content":"自粛ムードもおさまって、いまが通常の学生生活だと思うんだけれど、いまの大学４年あたりは入学式もサークル勧誘もコロナ渦だったよね。合コン行ってみたいなあ。行ったことある？","language":"ja","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":13,"title":"食べ放題店","createdAt":"2023-12-16T10:14:49","updatedAt":"2023-12-19T04:02:25","userID":10,"userName":"ぷにぷに","content":"そんなに高くなくて、美味しい食べ放題店があったら教えて。ちなみに自分のお気に入りは『サンマルク』『ゆず庵』『はーべすと』。新所沢にできたらしい『桃菜 新所沢店』も行ってみたいー！！","language":"ja","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":12,"title":"What are the best things to do in Tokyo?","createdAt":"2023-12-14T09:33:10","updatedAt":"2023-12-20T04:46:46","userID":10,"userName":"Waseda Exchange Student","content":"Hello! I’m an exchange student from America. Since I will only be here for 1 year, I want to try what local people like to do! What are your favorite places in Tokyo or in Japan in general? It could be anything! (Maybe places that are unknown to tourists)","language":"en","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":11,"title":"【悲報】ワイの飼ってたイッヌがケルベロスだったんだが","createdAt":"2023-12-13T02:30:04","updatedAt":"2023-12-19T07:17:57","userID":10,"userName":"なんg民","content":"かなしい","language":"original","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":10,"title":"What do you think of Japanese Natto? Do you have any similar food treated like Japanese Natto in your country?","createdAt":"2023-12-12T07:40:25","updatedAt":"2023-12-23T14:29:28","userID":10,"userName":"YM","content":"Almost everyone who has Japanese friends may have been forced to try Natto... Natto is very heathy and I love it! But, it is famous for its' \"unique\" smell... Do you have anything similar local food like Natto in your country? ","language":"en","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":9,"title":"ゴジラの身長は何メートルであるべきか","createdAt":"2023-12-10T13:21:49","updatedAt":"2023-12-10T13:25:44","userID":10,"userName":"ヒドラの保護者","content":"どう思う？","language":"ja","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":8,"title":"昆布水つけ麺の妖精に出会った話。","createdAt":"2023-12-10T13:11:20","updatedAt":"2023-12-14T02:46:39","userID":10,"userName":"２０世紀のラーメン大魔王","content":"あれはまだ蒸し暑い夏の日だった。会社のお昼休みに行きつけのラーメン屋さんに向かう途中、一台の自動販売機が目についた。自動販売機はこの地域では有名な烏骨鶏専門ペットショップの前にあった。自動販売機ではよくあるコーヒーやジュースではなく、昆布水つけ麺が売っていた。思わず二度見して、プラステチックの見本が入っているショーケースを眺めたが、それは確かに昆布水つけ麺だった。昆布水つけ麺の存在を確信した私は、今向かおうとしていたラーメン屋さんのことをすっかり忘れ、昆布水つけ麺を購入した。","language":"original","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":7,"title":"大谷翔平の移籍先はどこになるのか？","createdAt":"2023-12-09T04:22:37","updatedAt":"2023-12-20T08:29:18","userID":10,"userName":"Hyu","content":"大谷翔平の移籍先はどこになるのか？ドジャースか、ブルージェイズか、エンゼルスか？","language":"ja","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":6,"title":"Test","createdAt":"2023-12-04T06:52:58","updatedAt":"2023-12-04T06:55:35","userID":10,"userName":"Shoji Nishimura","content":"Je suis, donc je suis.","language":"fr","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":5,"title":"日本語と英語を混ぜたらどうなるか、について","createdAt":"2023-11-14T11:17:39","updatedAt":"2023-12-05T07:01:29","userID":10,"userName":"オードリー春日ヘップバーン","content":"Hello世界, 私の名前はボブです。このthreadは結構funですね。","language":"ja","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":4,"title":"このスレッドは商品名にも対応しているのか","createdAt":"2023-11-14T11:13:35","updatedAt":"2023-11-28T08:54:17","userID":10,"userName":"鶏チキンヘッド鶏冠は英語でコックス昆布","content":"例えばフェラーリは赤くて、カルピスは白く、ローソンは青いと言ったら？いやでも京都のローソンは変な色してる？八ツ橋を河童橋で食べた時に見えたのはグリコの看板。でもそこにいたのは、すする君。","language":"ja","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":3,"title":"タツノオトシゴが実は鳥類である件について","createdAt":"2023-11-14T11:07:53","updatedAt":"2023-12-18T16:02:06","userID":10,"userName":"鶏チキン","content":"モルモットの親は豚であり、牛は猿から生まれた。牛の子孫に馬がいて、カエルの親はアヒルだった。","language":"ja","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":2,"title":"一人っ子vs兄弟 どちらが幸せか？","createdAt":"2023-11-14T09:00:39","updatedAt":"2023-12-23T19:29:04","userID":10,"userName":"孤独の子リス","content":"私には兄がいるのですが、この歳になって一人っ子というものに憧れを抱いています。将来自分に子供ができた時にも自分の子供には幸せになって欲しいので、皆さんの意見を聞きたいです。","language":"original","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""},{"threadID":1,"title":"Title","createdAt":"2023-11-11T03:19:54","updatedAt":"2023-11-28T07:17:12","userID":10,"userName":"Creator name","content":"overview","language":"original","views":0,"likes":0,"tags":"","categoryID":0,"imageURL":""}]
# 言語を推定し、カウントする
def detect_languages(comments):
    translator = Translator()
    language_counts = Counter()

    for comment in comments:
        try:
            detected = translator.detect(comment['content'])
            language_counts[detected.lang] += 1
            # print(detected.lang + ": " + comment['title'])
            # detected = translator.detect(comment['content'])
            # print(detected.lang + ": " + comment['content'])
            print()
        except Exception as e:
            print(f"Error detecting language for comment: {comment['content']}, Error: {e}")
    
    return language_counts

# 言語のカウントを取得
language_counts = detect_languages(comments_data)

# 結果を表示
for lang, count in language_counts.items():
    print(f"Language: {lang}, Count: {count}")
